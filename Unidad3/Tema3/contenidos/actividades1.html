<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Actividad Interactiva: Evaluaci√≥n del Progreso en el Aprendizaje</title>
<style>
:root{
  --bg:#f8fafc; --card:#ffffff; --ink:#0f172a; --muted:#64748b;
  --accent:#2563eb; --good:#16a34a; --bad:#dc2626;
}
body{
  margin:0; font-family:Inter,system-ui,Arial;
  background:linear-gradient(180deg,#eef6ff 0%, #f8fafc 100%);
  color:var(--ink); padding:24px;
}
.container{max-width:940px; margin:0 auto;}
.card{
  background:var(--card); border-radius:16px;
  padding:24px; box-shadow:0 8px 24px rgba(0,0,0,.08);
}
h1{font-size:22px; color:var(--accent); margin-bottom:10px;}
.lead{color:var(--muted); font-size:14px; margin-bottom:20px;}
.grid{
  display:grid; grid-template-columns:repeat(12,30px);
  gap:4px; justify-content:center; margin-bottom:20px;
}
.cell{
  width:30px; height:30px; display:flex; align-items:center; justify-content:center;
  background:#e2e8f0; border-radius:6px; font-weight:600; cursor:pointer;
  user-select:none; transition:all .2s;
}
.cell.selected{background:#2563eb; color:white;}
.cell.found{background:#16a34a; color:white;}
.words{margin-bottom:12px;}
.words span{display:inline-block; background:#f1f5f9; margin:4px; padding:6px 10px; border-radius:6px;}
.timer{font-weight:700; color:var(--accent); text-align:right; margin-bottom:10px;}
textarea{
  width:100%; height:80px; border:1px solid #cbd5e1; border-radius:8px;
  padding:8px; resize:none; margin-bottom:10px; font-family:inherit;
}
button{
  padding:10px 16px; border:none; border-radius:8px; cursor:pointer;
  font-weight:700; color:#fff; background:var(--accent);
}
button.secondary{background:#e2e8f0; color:var(--ink);}
.feedback{margin-top:10px; font-weight:600; display:none;}
.feedback.ok{color:var(--good); display:block;}
.feedback.bad{color:var(--bad); display:block;}
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <h1>Actividad Interactiva: Evaluaci√≥n del Progreso en el Aprendizaje</h1>
    <div class="lead">Encuentra las palabras relacionadas con la <b>evaluaci√≥n del progreso</b> en la siguiente sopa de letras. Tienes <b>5 minutos</b>.</div>
    
    <div class="timer" id="timer">Tiempo restante: 5:00</div>

    <!-- Palabras -->
    <div class="words" id="wordList">
      <span>REFLEXION</span>
      <span>AUTONOMIA</span>
      <span>MEJORA</span>
      <span>FORTALEZAS</span>
      <span>APRENDIZAJE</span>
    </div>

    <!-- Sopa de letras -->
    <div class="grid" id="grid"></div>

    <!-- Preguntas reflexivas -->
    <h3>Preguntas reflexivas:</h3>
    <p>1Ô∏è‚É£ ¬øQu√© aprendiste sobre la importancia de evaluar tu propio progreso en el aprendizaje?</p>
    <textarea id="resp1" placeholder="Escribe tu respuesta aqu√≠..."></textarea>
    <p>2Ô∏è‚É£ ¬øQu√© estrategias personales podr√≠as aplicar para mejorar tu proceso de aprendizaje?</p>
    <textarea id="resp2" placeholder="Escribe tu respuesta aqu√≠..."></textarea>

    <!-- Botones -->
    <button id="checkBtn">Calificar</button>
    <button class="secondary" id="resetBtn">Reiniciar</button>

    <div class="feedback" id="feedback"></div>
  </div>
</div>

<script>
// Palabras ocultas
const words = ["REFLEXION","AUTONOMIA","MEJORA","FORTALEZAS","APRENDIZAJE"];
const gridSize = 12;
const gridContainer = document.getElementById('grid');
let grid = Array.from({length:gridSize},()=>Array(gridSize).fill(''));
let found = [];

// Generar sopa de letras
function placeWord(word){
  let placed=false;
  while(!placed){
    let dir=Math.random()<0.5?'H':'V';
    let row=Math.floor(Math.random()*gridSize);
    let col=Math.floor(Math.random()*gridSize);
    if(dir==='H' && col+word.length<=gridSize){
      if(grid[row].slice(col,col+word.length).every(c=>!c)){
        for(let i=0;i<word.length;i++) grid[row][col+i]=word[i];
        placed=true;
      }
    } else if(dir==='V' && row+word.length<=gridSize){
      if(grid.slice(row,row+word.length).every(r=>!r[col])){
        for(let i=0;i<word.length;i++) grid[row+i][col]=word[i];
        placed=true;
      }
    }
  }
}

// Rellenar con letras aleatorias
function fillGrid(){
  grid=Array.from({length:gridSize},()=>Array(gridSize).fill(''));
  words.forEach(w=>placeWord(w));
  const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for(let r=0;r<gridSize;r++){
    for(let c=0;c<gridSize;c++){
      if(!grid[r][c]) grid[r][c]=letters[Math.floor(Math.random()*letters.length)];
    }
  }
  renderGrid();
}

// Mostrar sopa en pantalla
function renderGrid(){
  gridContainer.innerHTML='';
  grid.forEach((row,r)=>{
    row.forEach((letter,c)=>{
      const cell=document.createElement('div');
      cell.classList.add('cell');
      cell.textContent=letter;
      cell.dataset.row=r; cell.dataset.col=c;
      cell.addEventListener('click',()=>selectCell(cell));
      gridContainer.appendChild(cell);
    });
  });
}

let selected=[];
function selectCell(cell){
  if(cell.classList.contains('found')) return;
  cell.classList.toggle('selected');
  const coord=cell.dataset.row+"-"+cell.dataset.col;
  if(selected.includes(coord)) selected=selected.filter(x=>x!==coord);
  else selected.push(coord);
  checkSelection();
}

function checkSelection(){
  let letters=selected.map(c=>{
    const [r,c2]=c.split('-').map(Number);
    return grid[r][c2];
  }).join('');
  for(let w of words){
    if(letters===w){
      selected.forEach(c=>{
        const el=document.querySelector(`.cell[data-row='${c.split('-')[0]}'][data-col='${c.split('-')[1]}']`);
        el.classList.remove('selected');
        el.classList.add('found');
      });
      found.push(w);
      selected=[];
      updateWordList();
    }
  }
}

function updateWordList(){
  const spans=document.querySelectorAll('#wordList span');
  spans.forEach(s=>{
    if(found.includes(s.textContent)) s.style.textDecoration="line-through";
  });
}

// Temporizador
let timeLeft=300; // 5 min
let timer=setInterval(()=>{
  timeLeft--;
  let min=Math.floor(timeLeft/60);
  let sec=timeLeft%60;
  document.getElementById('timer').textContent=`Tiempo restante: ${min}:${sec.toString().padStart(2,'0')}`;
  if(timeLeft<=0){
    clearInterval(timer);
    document.getElementById('checkBtn').click();
  }
},1000);

// Calificar
document.getElementById('checkBtn').addEventListener('click',()=>{
  let fb=document.getElementById('feedback');
  const score=found.length;
  if(score===words.length){
    fb.textContent="‚úÖ ¬°Excelente! Has encontrado todas las palabras relacionadas con la evaluaci√≥n del progreso.";
    fb.className='feedback ok';
  } else if(score>=3){
    fb.textContent="üü° Buen trabajo, pero puedes repasar los conceptos que te faltaron.";
    fb.className='feedback bad';
  } else {
    fb.textContent="‚ùå Revisa nuevamente los conceptos. Intenta identificar las palabras clave.";
    fb.className='feedback bad';
  }
  fb.style.display='block';
  clearInterval(timer);
});

// Reiniciar
document.getElementById('resetBtn').addEventListener('click',()=>{
  clearInterval(timer);
  timeLeft=300;
  found=[]; selected=[];
  document.getElementById('feedback').style.display='none';
  document.querySelectorAll('textarea').forEach(t=>t.value='');
  fillGrid();
  timer=setInterval(()=>{
    timeLeft--;
    let min=Math.floor(timeLeft/60);
    let sec=timeLeft%60;
    document.getElementById('timer').textContent=`Tiempo restante: ${min}:${sec.toString().padStart(2,'0')}`;
    if(timeLeft<=0){
      clearInterval(timer);
      document.getElementById('checkBtn').click();
    }
  },1000);
});

fillGrid();
</script>
</body>
</html>

